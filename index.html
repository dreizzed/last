<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login - Trip to the Thrift</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<body>
  <div class="container">
    <h2><i class="bi bi-shop"></i> Trip to the Thrift</h2>

    <div id="signupBox">
      <h3><i class="bi bi-person-plus-fill"></i> Create Account</h3>
      <div class="input-group">
        <i class="bi bi-person-fill"></i>
        <input type="text" id="newUsername" placeholder="New Username" required>
      </div>
      <div class="input-group">
        <i class="bi bi-lock-fill"></i>
        <input type="password" id="newPassword" placeholder="New Password (1 No.&Capital)" required>
      </div>
      <button type="button" onclick="createAccount()">
        <i class="bi bi-person-plus-fill"></i> Sign Up
      </button>
    </div>

    <hr>

    <div id="loginBox">
      <h3><i class="bi bi-box-arrow-in-right"></i> Login</h3>
      <form onsubmit="return validateLogin()">
        <div class="input-group">
          <i class="bi bi-person-fill"></i>
          <input type="text" id="username" placeholder="Username" required>
        </div>
        <div class="input-group">
          <i class="bi bi-lock-fill"></i>
          <input type="password" id="password" placeholder="Password (1 No.&Capital)" required>
        </div>
        <button type="submit"><i class="bi bi-box-arrow-in-right"></i> Login</button>
      </form>
    </div>
  </div>

  <script>
    function createAccount() {
      

      const newUser = document.getElementById("newUsername").value;
      const newPass = document.getElementById("newPassword").value;

      if (newUser === "" || newPass === "") {
        alert("Please enter a username and password.");
        return;
      }

      const passwordRegex = /^(?=.*[A-Z])(?=.*\d).+$/;
      if (!passwordRegex.test(newPass)) {
        alert("Password must contain at least 1 uppercase letter and 1 number.");
        return;
      }

      localStorage.setItem("username", newUser);
      localStorage.setItem("password", newPass);

      alert("Account created successfully!");
      document.getElementById("newUsername").value = "";
      document.getElementById("newPassword").value = "";
    }

    function validateLogin() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;

      const storedUser = localStorage.getItem("username");
      const storedPass = localStorage.getItem("password");

      if (user === storedUser && pass === storedPass) {
        window.location.href = "home.html";
        return false;
      } else {
        alert("Invalid credentials. Please try again.");
        return false;
      }
    }
  </script>
</body>
</html>
